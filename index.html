<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="These instructions will help you in setup server and mobile application.">
<meta name="keywords" content=" ">
<title>Vroom Documentation | Vroom Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="documentation-vroom" href="opuslabsin.github.io/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top" style="min-height:75px;">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><img style="height:50px;" src="images/company_logo.png" alt="Company logo"/></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right" style="margin-top:12px;">
                <!-- toggle sidebar button -->
                <!--<li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>-->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://opuslabs.freshdesk.com/" target="_blank">Support</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">

    <!-- Content Row -->
    <div class="row">
        
        

        <!-- Content Column -->
        <div class="col-md-12" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Vroom Documentation</h1>
</div>



<div class="post-content">

   
    <div class="summary">These instructions will help you in setup server and mobile application.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <h1 id="introduction">Introduction</h1>
<p>The app is connected with Laravel 5.7 based CMS using REST APIs, the following documentation will guide you through the process to connect the app with your backend.
This guide assumes you have some experience in setting up PHP based web applications and <a href="https://laravel.com/docs/5.5/">Laravel Framework 5.7</a>.</p>

<h1 id="setting-up-the-server">Setting up the server</h1>
<ol>
  <li>
    <h3 id="server-requirement">Server Requirement</h3>

    <p>The server on which you are going to deploy the backend must fulfill the following requirements:</p>
    <ul>
      <li>PHP &gt;= 7.1.2</li>
      <li>Mysql 5.7</li>
      <li>OpenSSL PHP Extension</li>
      <li>PDO PHP Extension</li>
      <li>Mbstring PHP Extension</li>
      <li>Tokenizer PHP Extension</li>
      <li>XML PHP Extension</li>
    </ul>
  </li>
  <li>
    <h3 id="deploying-backend">Deploying Backend</h3>
    <p>Follow these steps:</p>
    <ul>
      <li>Extract the <code class="highlighter-rouge">vroom.zip</code> on your server</li>
      <li>For example if your domain is http://vroom.com then you will be able to access the backend as http://vroom.com/vroom/public</li>
    </ul>
  </li>
  <li>
    <h3 id="configuration">Configuration</h3>
    <p>All the major configuration values you will need to set in .env file which is present in root folder of the accompanied source code. Following are the most important values, you may set other values in .env as well if you have experience and requirment to do so:</p>
  </li>
</ol>

<ul>
  <li><strong>App related</strong>:
    <ul>
      <li>APP_NAME: Title of your app</li>
      <li>APP_URL: Url of your backend</li>
    </ul>
  </li>
  <li><strong>Database related</strong>:
    <ul>
      <li>DB_HOST: Database host, usually it’s localhost</li>
      <li>DB_PORT: Database port, incase of mysql it’s usually 3306</li>
      <li>DB_DATABASE: Database Name</li>
      <li>DB_USERNAME: Database username</li>
      <li>DB_PASSWORD: Database password</li>
    </ul>
  </li>
  <li><strong>Push Notification related</strong>:
    <ul>
      <li>ONESIGNAL_APP_ID - Your OneSignal App ID, <a href="https://documentation.onesignal.com/docs/accounts-and-keys#section-app-id">https://documentation.onesignal.com/docs/accounts-and-keys#section-app-id</a></li>
      <li>ONESIGNAL_REST_API</li>
    </ul>
  </li>
  <li><strong>Social Login related</strong>:
    <ul>
      <li>FIREBASE_ISS: Required to succefully login through FB/Google, Value: <code class="highlighter-rouge">https://securetoken.google.com/&lt;firebase-project-id&gt;</code>. If not setup properly authentication in your app will not work properly.</li>
    </ul>
  </li>
  <li><strong>Logo</strong>:
    <ul>
      <li>APP_LOGO: Enter the url of your logo, this logo will be displayed in backend panel</li>
    </ul>
  </li>
</ul>

<ol>
  <li>
    <h3 id="database">Database</h3>
    <p>In accompanied source code you will find a sql file named vroom.sql. Create the database and then import the file in your database.</p>
  </li>
  <li>
    <h3 id="admin-panel">Admin Panel</h3>
    <p>Admin panel is developed in Angular 7 and shipped in seperate folder. Normally you will not need to compile the files again for your deployment. If you are not going to make any change in Admin Panel source code, you can skip the angular compiling step.
  Following change in the file will still be required in any case:</p>
    <ul>
      <li>Open <code class="highlighter-rouge">public/admin/main.e0dc3b111fbb1158753b.js</code> or if you do not see this specific file open <code class="highlighter-rouge">public/admin/main.&lt;some-random-code&gt;.js</code> file in any editor of your choice</li>
      <li>Search for <code class="highlighter-rouge">http://opuslabs.in:9088/api/admin</code> and replace it with your backend url for example <code class="highlighter-rouge">http://vroom.com/vroom/public/api/admin</code></li>
      <li>This is a just a quicker way to make ready your admin panel so that you do not have to compile whole angular project, if you want to customize source as per your requiremtn you will need to follow steps mentione below. If you do not want customization you can stop at these step.</li>
      <li>Open <code class="highlighter-rouge">vroom-admin.zip</code>, it’s an Angualr 7 based project</li>
      <li>If you are not familiar with Angular 7 we will suggest you to get basic idea from <a href="https://angular.io/guide/quickstart">https://angular.io/guide/quickstart</a></li>
      <li>If you need to change api url, open <code class="highlighter-rouge">src/app/@core/models/constants.model.ts</code> and update the value of <code class="highlighter-rouge">API_BASE_URL</code>  variable</li>
      <li>After making the required changes issue a command <code class="highlighter-rouge">ng build --prod</code></li>
      <li>Now angular would have created/updated the <code class="highlighter-rouge">dist</code> folder in root with updated compiled files</li>
      <li>You need to copy all the files in <code class="highlighter-rouge">dist</code> folder to you Laravel’s <code class="highlighter-rouge">public/admin</code> folder.</li>
      <li>For example <code class="highlighter-rouge">cp -r vroom-angular/dist/* vroom/public/admin/</code> assuming <code class="highlighter-rouge">vroom-angular</code> is your angular project folder and <code class="highlighter-rouge">vroom</code> is your laravel project folder</li>
    </ul>
  </li>
  <li>
    <h3 id="otp-verification">OTP Verification</h3>
    <p>In server code, you will find a file named <code class="highlighter-rouge">otp.html</code> in <code class="highlighter-rouge">public</code> folder. You will need to update firebase config in this file to successfully run the OTP verification. Follow these steps:-</p>
    <ul>
      <li>In you firebase console, go to <code class="highlighter-rouge">Project Overview</code> &gt; <code class="highlighter-rouge">Project Settings</code></li>
      <li>Now click on <code class="highlighter-rouge">Add App</code> and select <code class="highlighter-rouge">web</code> in platform. Fill the required details.</li>
      <li>You will be presented with script, copy the <code class="highlighter-rouge">firebaseConfig</code> complete variable</li>
      <li>Now, in <code class="highlighter-rouge">otp.html</code> you will find a similar variable declared near line number <code class="highlighter-rouge">406</code></li>
      <li>Replace the existing variable with new variable you copied from firebase console</li>
      <li>Next, go to <code class="highlighter-rouge">Authentication</code> &gt; <code class="highlighter-rouge">Sign-in method</code> &gt; <code class="highlighter-rouge">Authorize domains</code> section</li>
      <li>Click on <code class="highlighter-rouge">Add domain</code>, in domain field enter your domain name or IP address if you are not using domain name yet</li>
      <li>For example <code class="highlighter-rouge">vroom.com</code> or <code class="highlighter-rouge">1.2.3.4</code></li>
      <li>Finally click on <code class="highlighter-rouge">Add</code> button</li>
    </ul>
  </li>
</ol>

<h1 id="mobile-app">Mobile App</h1>
<ol>
  <li>
    <h3 id="setup-firebase-and-api-keys">Setup Firebase and Api keys</h3>
    <ul>
      <li>Login to http://console.firebase.google.com</li>
      <li>Click on “Add project” to add new project -&gt; provide project name as you like and hit Create Project.</li>
      <li>Now you have to Register apps in this project. Click “Add app” -&gt; choose platform Android</li>
      <li>Each app has its unique ID known as “Package name” or “ApplicationId”. For more info on how to name one visit https://developer.android.com/studio/build/application-id</li>
      <li>Enter package name as asked on firebase console(once for User’s app, Restaurant’s app and Driver’s app. ps-sequence doesnt matter).</li>
      <li>Set a nickname(optional, but we’ll add total of three apps so..)</li>
      <li>Enter your app signing certificate(Optional but important in order to make features work like social login and otp verification. here is how to have one -&gt; https://developers.google.com/android/guides/client-auth)</li>
      <li>Click Register app. Upon succesful registration of app you’ll be provided with your configuration file(google-services.json) for that app.</li>
      <li>Next click continue or skip to proceed and Repeat this step 2 more times to register app for Restaurant’s application and Driver’s application</li>
      <li>Upon registering 3 applications in your firebase project you should have 3 applicationIds and 3 configuration files(google-services.json).</li>
      <li>Now for api keys visit https://console.cloud.google.com/cloud-resource-manager</li>
      <li>Select the project you just created in firebase</li>
      <li>Navigate to “Api and Services” section and click “ENABLE APIS AND SERVICES”</li>
      <li>Now Search and Enable 3 apis -&gt; maps sdk for android, places sdk for android and directions api.</li>
      <li>Go to credentails and copy “Android key” and “Browser key”</li>
    </ul>
  </li>
  <li>
    <h3 id="install-nodejs">Install Node.js</h3>
    <p>You must have <strong>Node.js</strong> installed on your system to begin building our app. Please follow the following step if nodejs is not installed on your system. If already done, you can skip this step</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Note: Install Node.js version 8 or above on your system. 
</code></pre></div>    </div>

    <p>Download the Node.js as per your operating system from <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>
To ensure that you have correct version of nodejs installed, from the command line issue the following command</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node -v
</code></pre></div>    </div>
    <p>If you see the string containing version number greater than 8, you are good to go. If you get <code class="highlighter-rouge">command not found error</code>, that means nodejs is not properly installed on your system. You’ll need to troubleshoot the problem.</p>
    <h6 id="you--may-be-able-to-use-node-version-lessser-than-8-but-we-havent-tested-the-app-with-these-versions"><strong>You  may be able to use node version lessser than 8 but we haven’t tested the app with these versions</strong></h6>
  </li>
  <li>
    <h3 id="install-ionic-and-cordova">Install ionic and cordova</h3>
    <p>In order to build our app you need to have installed ionic and cordova on your system. To install these packages issue the following command from command line:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm install -g ionic@3.9.2 cordova
</code></pre></div>    </div>

    <p>This will install the ionic and cordova programs on your system. To ensure that you have successfully installed both the programs, issue following command from the command line</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ionic -v &amp;&amp; cordova -v
</code></pre></div>    </div>

    <p>If version number gets printed on the console, you are good to go. If you get <code class="highlighter-rouge">command not found error</code>, that means that these programs didn’t get properly installed on your system. You’ll need to troubleshoot the problem.</p>

    <p><strong>Make sure you do not accidentally install ionic-v4(beta)</strong></p>
  </li>
  <li>
    <h3 id="seting-up-ionic-application">Seting up Ionic application</h3>
    <p>Add configuration files(google-services.json) aquired from step 1 into respective project’s root folder.
 You’ll find config.xml, open to edit “id” parameter in very first line with applicationId you creted in step 1 in firebase console.
 Specify application’s name between tag name <name>here</name>.
 Next file -&gt; src/app/app.config.ts
 Here change appName(name that displayes inside application)
 change apiBase with your base url.. such as -&gt; http://yourbaseurl.com/api/
 change googleApiKey with the Browser key obtained in step 1.</p>

    <p><strong><code class="highlighter-rouge">cordova-plugin-googleplus</code></strong></p>
    <ul>
      <li>
        <p>Run the following command to add the support for google login</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; ionic cordova plugin add cordova-plugin-googleplus --save --variable WEB_APPLICATION_CLIENT_ID=mywebapplicationclientid
&gt; npm install --save @ionic-native/google-plus
</code></pre></div>        </div>

        <p>Your <strong>mywebapplicationclientid</strong> will look something like this <strong>511052243603-tti40jbrr3ukb2t3abebcesl5sd0ql099.apps.googleusercontent.com</strong>. We have already demonstrated above how to get this id.</p>
      </li>
    </ul>

    <p><strong><code class="highlighter-rouge">Final Checklist</code></strong></p>

    <p>In summary, make sure you have followed all these steps before proceeding</p>
    <ul>
      <li>Added project in firebase</li>
      <li>Added debug and release <strong>SHA-1 key</strong> in firebase</li>
      <li>Downloaded <strong>google-services.json</strong> file from firebase and placed it in root folder of the app source code</li>
      <li>Enabled <strong>Phone Authentication</strong> and <strong>Google</strong> in signin method in firebase</li>
      <li>Updated all the required values in <strong>app.config.ts</strong></li>
      <li>
        <p>Installed <code class="highlighter-rouge">cordova-plugin-googleplus</code> cordova plugins</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; ionic cordova plugin add cordova-plugin-googleplus --save --variable WEB_APPLICATION_CLIENT_ID=mywebapplicationclientid

&gt; npm install --save @ionic-native/google-plus
</code></pre></div>        </div>
      </li>
    </ul>

    <p><strong><code class="highlighter-rouge">Useful links</code></strong></p>
    <ul>
      <li>SHA-1 key related
        <ul>
          <li><a href="https://cloud.google.com/solutions/mobile/mobile-firebase-app-engine-flexible#generating_a_sha-1_fingerprint_for_the_app">https://cloud.google.com/solutions/mobile/mobile-firebase-app-engine-flexible#generating_a_sha-1_fingerprint_for_the_app</a></li>
          <li><a href="https://developers.google.com/android/guides/client-auth">https://developers.google.com/android/guides/client-auth</a></li>
          <li><a href="https://medium.com/pen-bold-kiln-press/sha-1-android-studio-ec02fb893e72">https://medium.com/pen-bold-kiln-press/sha-1-android-studio-ec02fb893e72</a></li>
        </ul>
      </li>
      <li>Google login
        <ul>
          <li><a href="https://ionicframework.com/docs/native/google-plus/">https://ionicframework.com/docs/native/google-plus/</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <h3 id="build-app">Build App</h3>
    <p>Since the app depends on various native capabilities we suggest you to check the app on physical device instead of checking it in browser.
Once you have followed all the steps given above you can build the app for android and ios. But keep in mind that Ionic doesn’t bundle all of the tooling required to build an app, it relies on some additional SDKs and software provided by Apple and/or Google. You’ll need to set up the platform tooling before you can preview or emulate an application on a simulator or device.</p>

    <p>Once done, you can run following command to run the app on your Android device:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &gt; ionic cordova run android
</code></pre></div>    </div>

    <p>To build the apk, run:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &gt; ionic cordova build android
</code></pre></div>    </div>

    <p>Simillarly for iOS, you can run:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &gt; ionic cordova build ios
</code></pre></div>    </div>

    <p>If you find the given information insufficient for you to successfully build or publish the app on app/play store. Please visit <a href="https://ionicframework.com/docs/intro/deploying/">https://ionicframework.com/docs/intro/deploying/</a> for indepth documentation.</p>
  </li>
  <li>
    <h3 id="deploy-app">Deploy App</h3>
    <p>Deploying apps on Google Play Store and Apple App Store is out of the scope of this document.
Kindly refer to this <a href="https://ionicframework.com/docs/intro/deploying/">guide</a> for further instructions.</p>
  </li>
</ol>

<p><strong>Note: If you are unable to understand any topic or find any topic needs more elaboration. 
Please raise an issue ticket at this link <a href="https://opuslabs.freshdesk.com">https://opuslabs.freshdesk.com</a></strong></p>


    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2019 Opus Labs. All rights reserved. <br />
 Site last generated: Jun 30, 2019 <br />
<p><img src="images/company_logo_dark.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-122814558-2','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
